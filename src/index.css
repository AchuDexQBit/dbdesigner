@import "tailwindcss";

@config '../tailwind.config.js';

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@layer base {
  /*
   * Workaround to allow proper bottom positioning for fixed
   * elements in mobile browsers with collapsing url bars:
   * https://stackoverflow.com/a/17555766/1137077
   */
  :root,
  html,
  body {
    @apply h-full min-h-full;
  }
  #root {
    @apply h-full min-h-full;
  }
}

.semi-form-vertical .semi-form-field {
  margin: 0;
  padding-top: 8px !important;
  padding-bottom: 8px !important;
  overflow: hidden;
}

.semi-card .semi-collapse-item {
  border: none !important;
}

.semi-button.semi-button-light {
  background-color: rgba(var(--semi-grey-1), 1);
}

.semi-button.semi-button-light:hover {
  background-color: rgba(var(--semi-grey-2), 1);
}

.semi-button.semi-button-primary:not(.semi-button-light):not(
    .semi-button-borderless
  ) {
  background-color: rgba(var(--semi-blue-5), 1);
}

.semi-button.semi-button-primary:not(.semi-button-light):not(
    .semi-button-borderless
  ):hover {
  background-color: rgba(var(--semi-blue-6), 1);
}

.semi-steps-item-content,
.semi-steps-item-title {
  width: 100% !important;
}

.semi-spin-wrapper {
  color: inherit;
}

:disabled {
  /* inherit Semi's cursor style for disabled elements */
  cursor: inherit;
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  opacity: 0;
}

::-webkit-scrollbar-corner {
  opacity: 0;
}

::-webkit-scrollbar-thumb {
  background-color: rgba(var(--semi-grey-2), 1);
  border-radius: 6px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: rgba(var(--semi-grey-3), 1);
}

.menu::-webkit-scrollbar-thumb {
  background-color: rgba(var(--semi-grey-4), 1);
}

.theme {
  color: var(--semi-color-text-1);
  background-color: var(--semi-color-bg-0);
}

.sidesheet-theme {
  color: var(--semi-color-text-1);
  background-color: var(--semi-color-bg-2);
}

.popover-theme {
  color: var(--semi-color-text-1);
  background-color: var(--semi-color-bg-3);
}

.card-theme {
  color: var(--semi-color-text-1);
  background-color: rgba(var(--semi-grey-0), 1);
}

.toolbar-theme {
  background-color: rgba(var(--semi-grey-1), 0.7);
}

.hover-1:hover {
  background-color: rgba(var(--semi-grey-1), 1);
}

.bg-semi-grey-2 {
  background-color: rgba(var(--semi-grey-2), 1);
}

.hover-2:hover {
  background-color: rgba(var(--semi-grey-2), 1);
}

.text-color {
  color: var(--semi-color-text-1);
}

.border-color {
  border-color: rgba(var(--semi-grey-9), 0.08);
}

.table-border {
  border-color: rgba(var(--semi-grey-2), 1);
}

.bg-dots {
  background-color: white;
  opacity: 0.8;
  background-image: radial-gradient(rgb(118, 118, 209) 1px, white 1px);
  background-size: 20px 20px;
}

.sliding-vertical span {
  animation: top-to-bottom 9s linear infinite 0s;
  -ms-animation: top-to-bottom 9s linear infinite 0s;
  -webkit-animation: top-to-bottom 9s linear infinite 0s;
  opacity: 0;
  overflow: hidden;
  position: absolute;
}

.sliding-vertical span:nth-child(2) {
  animation-delay: 3s;
  -ms-animation-delay: 3s;
  -webkit-animation-delay: 3s;
}
.sliding-vertical span:nth-child(3) {
  animation-delay: 6s;
  -ms-animation-delay: 6s;
  -webkit-animation-delay: 6s;
}

@keyframes top-to-bottom {
  0% {
    opacity: 0;
  }
  5% {
    opacity: 0;
    transform: translateY(-18px);
  }
  10% {
    opacity: 1;
    transform: translateY(0px);
  }
  25% {
    opacity: 1;
    transform: translateY(0px);
  }
  30% {
    opacity: 0;
    transform: translateY(18px);
  }
  80% {
    opacity: 0;
  }
  100% {
    opacity: 0;
  }
}

@keyframes dash-right {
  100% {
    stroke-dashoffset: -20;
  }
}

.relationship-path {
  stroke: grey;
  stroke-width: 2.5;
  fill: none;
  stroke-linecap: butt;
  transition: stroke 0.2s ease, stroke-width 0.2s ease;
  pointer-events: stroke;
}

.group:hover .relationship-path {
  stroke: #0084d1;
  stroke-width: 2;
  stroke-dasharray: 12 8;
  animation: dash-right 1s linear infinite;
}

/* Dexqbit theme – dexqbit.com inspired (dark indigo, pill buttons, clean sans) */
.dexqbit-theme {
  --dexqbit-bg: #0f0a1a;
  --dexqbit-bg-elevated: #1a0a2e;
  --dexqbit-bg-card: rgba(255, 255, 255, 0.06);
  --dexqbit-text: #ffffff;
  --dexqbit-text-muted: rgba(255, 255, 255, 0.72);
  --dexqbit-border: rgba(255, 255, 255, 0.24);
  --dexqbit-accent: #8b5cf6;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  color: var(--dexqbit-text);
  background-color: var(--dexqbit-bg);
}

.dexqbit-theme .semi-button {
  transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease, transform 0.15s ease;
}

.dexqbit-theme .semi-button.semi-button-primary,
.dexqbit-theme .semi-button.semi-button-solid {
  background: var(--dexqbit-accent) !important;
  border: 1.5px solid var(--dexqbit-accent) !important;
  color: #ffffff !important;
  border-radius: 9999px !important;
  font-weight: 600;
  letter-spacing: 0.02em;
  padding: 10px 20px !important;
  box-shadow: 0 0 0 0 rgba(139, 92, 246, 0);
}
.dexqbit-theme .semi-button.semi-button-primary:hover,
.dexqbit-theme .semi-button.semi-button-solid:hover {
  background: #9d7af7 !important;
  border-color: #9d7af7 !important;
  box-shadow: 0 0 24px rgba(139, 92, 246, 0.45) !important;
  transform: translateY(-1px);
}

.dexqbit-theme .semi-button.semi-button-light {
  background: var(--dexqbit-bg-card) !important;
  border: 1px solid var(--dexqbit-border) !important;
  color: var(--dexqbit-text) !important;
  border-radius: 9999px !important;
}
.dexqbit-theme .semi-button.semi-button-light:hover {
  background: rgba(255, 255, 255, 0.1) !important;
}

.dexqbit-theme .semi-button.semi-button-borderless {
  color: var(--dexqbit-text-muted) !important;
  border: 1.5px solid transparent !important;
  border-radius: 9999px !important;
  padding: 8px 16px !important;
  font-weight: 500;
}
.dexqbit-theme .semi-button.semi-button-borderless:hover {
  color: var(--dexqbit-text) !important;
  background: rgba(255, 255, 255, 0.06) !important;
  border-color: var(--dexqbit-border) !important;
}

.dexqbit-theme .semi-button-type-danger.semi-button-borderless {
  color: #fca5a5 !important;
}
.dexqbit-theme .semi-button-type-danger.semi-button-borderless:hover {
  color: #f87171 !important;
}

.dexqbit-theme .semi-input-wrapper,
.dexqbit-theme .semi-input {
  background: var(--dexqbit-bg-card) !important;
  border: 1px solid var(--dexqbit-border) !important;
  border-radius: 12px !important;
  color: var(--dexqbit-text) !important;
}
.dexqbit-theme .semi-input-wrapper:hover,
.dexqbit-theme .semi-input:hover {
  border-color: rgba(255, 255, 255, 0.35) !important;
}
.dexqbit-theme .semi-input::placeholder {
  color: var(--dexqbit-text-muted);
}
.dexqbit-theme .semi-form-field-label {
  color: var(--dexqbit-text-muted) !important;
}

.dexqbit-theme .semi-card {
  background: var(--dexqbit-bg-card) !important;
  border: 1px solid var(--dexqbit-border) !important;
  border-radius: 16px !important;
}

.dexqbit-theme .semi-tag {
  background: rgba(139, 92, 246, 0.2) !important;
  border-color: rgba(139, 92, 246, 0.4) !important;
  color: #c4b5fd !important;
}

.dexqbit-theme .semi-spin-wrapper {
  color: var(--dexqbit-text);
}

.dexqbit-theme .dexqbit-card-action:hover {
  color: var(--dexqbit-text) !important;
}

/* Titlebar logout button hover */
.titlebar-logout-btn:hover {
  color: #ffffff !important;
}

/* TopBar — full width, above content; transparent background (inherits from body), padding (px-6 md:px-8) */
.topbar-header {
  position: relative;
  z-index: 50;
  width: 100%;
  padding-left: 24px;
  padding-right: 24px;
  background: transparent;
}
@media (min-width: 768px) {
  .topbar-header {
    padding-left: 32px;
    padding-right: 32px;
  }
}

/* TopBar logout button — white text, hover slightly brighter */
.topbar-logout-btn:hover {
  background: rgba(255, 255, 255, 0.08) !important;
  color: rgba(255, 255, 255, 0.95) !important;
}

/* Dashboard diagram card action buttons (share/delete) */
.dashboard-card-action:hover {
  color: #ffffff !important;
}

/* Dashboard "Create New Diagram" button */
.dashboard-create-btn:hover,
.dashboard-create-btn.semi-button:hover {
  background: #6d28d9 !important;
  border-color: #6d28d9 !important;
}

/* Dashboard page — dark purple radial/linear gradient (match tools portal) */
.dashboard-page {
  background: #0f0a1a;
  position: relative;
}
.dashboard-page::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(
      ellipse 80% 50% at 20% 20%,
      rgba(88, 28, 135, 0.2) 0%,
      transparent 50%
    ),
    linear-gradient(165deg, #0f0a1a 0%, #0a0612 100%);
}
.dashboard-page::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.03;
  background-image: linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
  background-size: 48px 48px;
}

/* Dashboard card grid: 2 cols desktop, 1 col mobile */
@media (max-width: 639px) {
  .dashboard-card-grid {
    grid-template-columns: 1fr !important;
  }
}

/* Dexqbit theme – Modal (when getPopupContainer mounts inside .dexqbit-theme) */
.dexqbit-theme .semi-modal-mask {
  background: rgba(0, 0, 0, 0.65) !important;
}
.dexqbit-theme.semi-modal-content,
.dexqbit-theme .semi-modal-content.dexqbit-theme {
  background: var(--dexqbit-bg-elevated) !important;
  border: 1px solid var(--dexqbit-border) !important;
  border-radius: 16px !important;
  color: var(--dexqbit-text) !important;
}
.dexqbit-theme .semi-modal-header,
.semi-modal-content.dexqbit-theme .semi-modal-header {
  color: var(--dexqbit-text) !important;
  border-bottom-color: var(--dexqbit-border) !important;
}
.dexqbit-theme .semi-modal-body,
.semi-modal-content.dexqbit-theme .semi-modal-body {
  color: var(--dexqbit-text) !important;
}
.semi-modal-content.dexqbit-theme .semi-modal-close {
  color: var(--dexqbit-text-muted) !important;
}
.semi-modal-content.dexqbit-theme .semi-modal-close:hover {
  color: var(--dexqbit-text) !important;
}
